场景： 曝光埋点

解决方案： 利用js 类 IntersectionObserver 观察目标元素， 目标元素出现在窗口内出发埋点

- 一般会设置一个时间间隔，先收集对象ID， 到时间后统一遍历触发
- 利用单例原则，定义一个曝光埋点的class, 将实例挂载到window

注意事项：

- 单例子原则
- 不要重复上报

```javascript
class Exposure {
  constructor(maxNum=19){
    this.datDataArr = [] // 收集的将要上报的数据
    this.maxNum = maxNum // 一次上报最大的数量
    this._observer=null //  观察者
    this.observedDom=[] // 存储已经上报的dom
    this.init()
  }
  init(){
    const _self = this
    try{
      this._observer = new IntersectionObserver((entries)={
        
      }, {
        root: document.querySelector('#app'),
        rootMargin: "0px";
        threshold: 1 //  目标dom 出现在试图的比例 0-1
      })
    }catch(){
      
    }
  }
  // 添加监控对象
  add(){
    
  }
  // 埋点方法
  dot(params){
    const {eventId, eventParams} = params
    window.JSSDK && Window.JSSDK.sendPont({eventId, eventParams})
  }
  // clear
  clear(){
    
  }
  
  // 离开页面前上报埋点
  beforeUnmount(){
    
  }
}
```

